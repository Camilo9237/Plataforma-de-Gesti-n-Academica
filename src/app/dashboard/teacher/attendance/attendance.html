<a class="back" routerLink="/dashboard/teacher">← Volver al Dashboard</a>

<section class="attendance-root">
  <header class="attendance-header">
    <h2>Asistencia</h2>
    <p class="hint">Control de asistencia</p>
  </header>

  <div class="selection card">
    <div class="field">
      <label>Grupo</label>
      <select [(ngModel)]="grupoSeleccionado">
        <option [ngValue]="null">Seleccionar grupo</option>
        <option *ngFor="let g of grupos" [ngValue]="g">{{ g.name }}</option>
      </select>
    </div>
    <div class="field">
      <label>Periodo</label>
      <select [(ngModel)]="periodoSeleccionado">
        <option [ngValue]="null">Seleccionar periodo</option>
        <option *ngFor="let p of periodos" [ngValue]="p">{{ p }}</option>
      </select>
    </div>
    <div class="field">
      <label>Fecha</label>
      <input type="date" [(ngModel)]="fechaSeleccionada" />
    </div>
    <div class="field actions">
      <button class="btn" (click)="marcarTodos(true)">Marcar Todos</button>
      <button class="btn" (click)="marcarTodos(false)">Desmarcar Todos</button>
    </div>
  </div>

  <section class="students card">
    <div class="students-title">Lista de Estudiantes</div>
    <div class="students-sub">{{ grupoSeleccionado?.name || 'Selecciona un grupo' }}</div>

    <table class="table">
      <thead>
        <tr>
          <th>Código</th>
          <th>Nombre</th>
          <th>Presente</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let s of estudiantes">
          <td>{{ s.codigo }}</td>
          <td>{{ s.nombre }}</td>
          <td><input type="checkbox" [(ngModel)]="s.presente" /></td>
        </tr>
      </tbody>
    </table>

    <div class="actions-row">
      <div></div>
      <div class="buttons">
        <button class="btn primary" (click)="guardarAsistencia()">Guardar Asistencia</button>
      </div>
    </div>
  </section>
</section>
